

<!DOCTYPE html>
<html lang="zh-CN">
<head>
  


<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>又重新搭了个个人博客 [ 咸鱼运维杂谈 ]</title>

  <link rel="icon" href="/img/favicon.ico">


    <meta name="author" content="Ammon">



    <meta name="Description" content="404NotFound">



  <link rel="alternate" href="/atom.xml " title="咸鱼运维杂谈" type="application/atom+xml">


  
    <link rel="stylesheet" href="/css/main.css">
  

</head>
  <body data-theme="light" class="notransition">
    <script>
      const body = document.body;
      const data = body.getAttribute("data-theme");
      const initTheme = (state) => {
        if (state === "dark") {
          body.setAttribute("data-theme", "dark");
        } else if (state === "light") {
          body.removeAttribute("data-theme");
        } else {
          localStorage.setItem("theme", data);
        }
      };
   
      initTheme(localStorage.getItem("theme"));
      
      setTimeout(() => body.classList.remove("notransition"), 75);
    </script>
  <div class="navbar" role="navigation">
    <nav class="menu">
      <input type="checkbox" id="menu-trigger" class="menu-trigger" />
      <label for="menu-trigger">
        <span class="menu-icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 512 512"
          >
            <path
              d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"
            />
          </svg>
        </span>
      </label>
      <a id="mode">
        <svg
          class="mode-sunny"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 512 512"
        >
          <title>LIGHT</title>
          <line
            x1="256"
            y1="48"
            x2="256"
            y2="96"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="256"
            y1="416"
            x2="256"
            y2="464"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="403.08"
            y1="108.92"
            x2="369.14"
            y2="142.86"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="142.86"
            y1="369.14"
            x2="108.92"
            y2="403.08"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="464"
            y1="256"
            x2="416"
            y2="256"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="96"
            y1="256"
            x2="48"
            y2="256"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="403.08"
            y1="403.08"
            x2="369.14"
            y2="369.14"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="142.86"
            y1="142.86"
            x2="108.92"
            y2="108.92"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <circle
            cx="256"
            cy="256"
            r="80"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
        </svg>
        <svg
          class="mode-moon"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 512 512"
        >
          <title>DARK</title>
          <line
            x1="256"
            y1="48"
            x2="256"
            y2="96"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="256"
            y1="416"
            x2="256"
            y2="464"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="403.08"
            y1="108.92"
            x2="369.14"
            y2="142.86"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="142.86"
            y1="369.14"
            x2="108.92"
            y2="403.08"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="464"
            y1="256"
            x2="416"
            y2="256"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="96"
            y1="256"
            x2="48"
            y2="256"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="403.08"
            y1="403.08"
            x2="369.14"
            y2="369.14"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <line
            x1="142.86"
            y1="142.86"
            x2="108.92"
            y2="108.92"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
          <circle
            cx="256"
            cy="256"
            r="80"
            style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px"
          />
        </svg>
      </a>
      <div class="trigger">
        <div class="trigger-container">
          
            
            
            
            
            
            
            <a class="menu-link " href="/"> Home</a>
          
            
            
            
            
            
            
            <a class="menu-link " href="/about/"> About</a>
          
            
            
            
            
            
            
            <a class="menu-link " href="/archives/"> Archives</a>
          
            
            
            
            
            
            
            <a class="menu-link " href="/tags/"> Tags</a>
          
        </div>
      </div>
    </nav>
  </div>
  
<div class="wrapper post">
  <main class="page-content" aria-label="Content">
      <header class="header">
        
          <div class="tags">
            <a href="/tags/%E5%8D%9A%E5%AE%A2/" class="tag"># 博客</a>
          </div>
        
        <h1 class="header-title" itemprop="headline">又重新搭了个个人博客</h1>
          <div class="post-meta">
            <time>4月 28, 2024</time>
            <span itemprop="author">
              <span itemprop="name">Ammon</span>
            </span>
          </div>
        </header>

          <div class="page-content"><p>哈喽大家好，我是咸鱼。</p>
<p>前段时间看到一个学弟写了篇用 Hexo 搭建博客的教程，心中沉寂已久的激情重新被点燃起来。（以前搞过一个个人网站，但是因为种种原因最后不了了之）</p>
<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240426161141490.png" alt="image-20240426161141490"></p>
<p>于是花了一天时间参考教程搭了个博客网站，我的博客网址是：<a href="https://xxxsalted.github.io/">https://xxxsalted.github.io/</a></p>
<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240426212343889.png" alt="image-20240426212343889"></p>
<p>下面是相关教程。</p>
<h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><p>俗话说：”工欲善其事必先利其器”，在搭建个人博客之前我们先要把环境准备好。</p>
<ul>
<li>Github 准备</li>
</ul>
<p>作为全球最大的程序员同性交友网站（<del>不是</del>），我们首先创建一个 Github 账号，官网地址：<a target="_blank" rel="noopener" href="https://github.com/">https://github.com</a></p>
<p>然后我们下载并安装 Git，官网地址： <a target="_blank" rel="noopener" href="https://git-scm.com/downloads">https://git-scm.com/downloads</a></p>
<p>毕竟是国外地址，我们访问起来可能比较慢，这时候我们可以访问下面的地址来下载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://registry.npmmirror.com/binary.html?path=git-for-windows/v2.42.0.windows.2/</span><br></pre></td></tr></table></figure>



<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240424091054613.png" alt="image-20240424091054613"></p>
<ul>
<li>Node.js 准备</li>
</ul>
<p>Node.js 简单来讲是一个 JavaScript 的运行环境，让我们的 JavaScript 代码不需要在浏览器上也能运行。</p>
<p>下载安装 Nodejs：<a target="_blank" rel="noopener" href="http://nodejs.cn/download/">http://nodejs.cn/download/</a></p>
<ul>
<li>环境配置</li>
</ul>
<p>下载安装好 Git 和 Node.js 之后，我们在键盘上按下 <code>win+R</code> 键，输入 <code>cmd</code>。</p>
<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240424091629558.png" alt="image-20240424091629558"></p>
<p>然后在弹出的 cmd 窗口中输入下面的命令，来检验是否安装成功</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br><span class="line"></span><br><span class="line">npm version</span><br></pre></td></tr></table></figure>



<ul>
<li>下载 cnpm</li>
</ul>
<p>npm 是 Node.js 的安装包管理器，但是由于限制我们有时候通过 npm 下载东西会特别的慢，这时候我们就需要换一个国内的下载源并且使用 cnpm 来管理 Node.js。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npmmirror.com</span><br></pre></td></tr></table></figure>



<h2 id="初始化博客"><a href="#初始化博客" class="headerlink" title="初始化博客"></a>初始化博客</h2><ul>
<li>安装 Hexo</li>
</ul>
<p>接下来我们要安装 Hexo ，还是在刚刚弹出的 cmd 窗口中输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install -g hexo</span><br></pre></td></tr></table></figure>



<ul>
<li>创建新文件夹</li>
</ul>
<p>我们在电脑任意位置创建一个新文件夹（最好别放在 C 盘下且文件名是英文），这个文件夹将用于储存你网站的静态文件。</p>
<p>比如说我的新建文件夹路径如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:\myblog</span><br></pre></td></tr></table></figure>



<p>然后右键鼠标，打开<code>Git Bash Here</code>，并依次输入以下命令：</p>
<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240424092443228.png" alt="image-20240424092443228"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 初始化 hexo</span></span><br><span class="line">hexo init</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成网页文件</span></span><br><span class="line">hexo generate</span><br><span class="line"></span><br><span class="line"><span class="comment"># 部署到本地上</span></span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure>



<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240424155016132.png" alt="image-20240424155016132"></p>
<p>在执行命令的时候出现权限相关问题（<code>npm ERR! &#123; Error: EPERM: operation not permitted, mkdir &#39;C:\Program Files\nodejs\node_cache\_locks&#39;</code>），可以参考下面这篇文章来解决：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yinxiangzhenlihai/p/15936518.html">https://www.cnblogs.com/yinxiangzhenlihai/p/15936518.html</a></p>
<p>然后你会发现你的目录下面多了很多文件：</p>
<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240424143956657.png" alt="image-20240424143956657"></p>
<p>接着打开下面网址验证一下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:4000/</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240424154951369.png" alt="image-20240424154951369"></p>
<p>如果你想停止运行，可以在上面的 bash 命令窗口中执行 <code>Ctrl+C</code> 命令。</p>
<p>到现在我们的个人博客就完成了一半了！</p>
<h2 id="托管至-GitHub"><a href="#托管至-GitHub" class="headerlink" title="托管至 GitHub"></a>托管至 GitHub</h2><ul>
<li>仓库创建</li>
</ul>
<p>我们登录自己的 Github ，然后在 Github 中新建一个仓库。</p>
<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240424093519086.png" alt="image-20240424093519086"></p>
<p><strong>注意</strong>: <code>Repository name</code>一定要按照图片上的格式填写，其他的默认即可。</p>
<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240424093601949.png" alt="image-20240424093601949"></p>
<ul>
<li>设置免密登录</li>
</ul>
<p>为了方便我们本地与 Github 互相通信，我们需要设置 SSH 免密登录。</p>
<p>首先找到你的 Github 邮箱和用户名，然后在你个人博客的文件夹下右键鼠标，打开<code>Git Bash Here</code>，并依次输入以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;github 用户名&quot;</span></span><br><span class="line"></span><br><span class="line">git config --global user.email <span class="string">&quot;github 邮箱&quot;</span></span><br></pre></td></tr></table></figure>



<p>然后我们检验一下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.name</span><br><span class="line">git config user.email</span><br></pre></td></tr></table></figure>



<p>接着我们在键盘上按下 <code>win+R</code> 键，输入 <code>cmd</code>，在 <code>cmd</code> 窗口里面输入下面的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检查本机是否已经存在 SSH 密钥</span></span><br><span class="line"><span class="built_in">cd</span> ~/.ssh</span><br></pre></td></tr></table></figure>



<p>如果提示：<code>No such file or directory</code> 则输入如下代码，生成 SSH 文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;github 邮箱地址&quot;</span></span><br></pre></td></tr></table></figure>



<p>然后连续敲 3 次回车，最终会生成一个文件在“用户”目录下，打开 “用户” 目录（<code>C:\用户\用户名.ssh</code>）并找到<code>id_rsa.p ub</code>文件。</p>
<p>用“记事本”打开并复制里面的内容，在  Github 主页的右上角进入 <code>Setting</code> -&gt; 左侧菜单栏 “<code>SSH and GPG keys</code>” -&gt; <code>New SSH Key</code> -&gt; 填写你获得的 <code>SSH Key</code>。</p>
<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240424094409595.png" alt="image-20240424094409595"></p>
<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240424094435711.png" alt="image-20240424094435711"></p>
<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240424094523632.png" alt="image-20240424094523632"></p>
<h2 id="部署博客"><a href="#部署博客" class="headerlink" title="部署博客"></a>部署博客</h2><p>到了这一步，我们就可以正式地把博客部署到 Git 上了，进入我们前面创建的博客文件夹，然后找到配置文件 <code>_config.yml</code>。</p>
<p><img src="https://raw.githubusercontent.com/xxxsalted/images/main/hexo/image-20240424112352199.png" alt="image-20240424112352199"></p>
<p>下面是我的配置文件的部分内容，大家可以参考一下</p>
<p>部署路径部分：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: 你的 git 仓库地址</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>



<p>网站相关部分：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line">title: Amoon<span class="string">&#x27;s blog</span></span><br><span class="line"><span class="string">subtitle: &#x27;</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">description: &#x27;</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">keywords:</span></span><br><span class="line"><span class="string">author: Ammon</span></span><br><span class="line"><span class="string">language: zh-CN</span></span><br><span class="line"><span class="string">timezone: &#x27;</span>Asia/shanghai<span class="string">&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;</span>https://username.github.io/project<span class="string">&#x27;</span></span><br><span class="line"><span class="string">url:https://xxxsalted.github.io </span></span><br><span class="line"><span class="string">root: /</span></span><br><span class="line"><span class="string">permalink: :year/:month/:day/:title/</span></span><br><span class="line"><span class="string">permalink_defaults:</span></span><br><span class="line"><span class="string">pretty_urls:</span></span><br><span class="line"><span class="string">  trailing_index: true # Set to false to remove trailing &#x27;</span>index.html<span class="string">&#x27; from permalinks</span></span><br><span class="line"><span class="string">  trailing_html: true # Set to false to remove trailing &#x27;</span>.html<span class="string">&#x27; from permalinks</span></span><br></pre></td></tr></table></figure>



<p>我们还需要安装一个插件，打开 Git bash 窗口</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装自动部署工具</span></span><br><span class="line">cnpm install hexo-deployer-git --save </span><br></pre></td></tr></table></figure>



<p>然后依次执行下面的命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 清除 public 缓存文件</span></span><br><span class="line">hexo clean </span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成新的网站静态文件到默认设置的 public 文件夹，也可以用 hexo g 命令</span></span><br><span class="line">hexo generate </span><br><span class="line"></span><br><span class="line"><span class="comment"># 部署到 github，也可以用 hexo d 命令</span></span><br><span class="line">hexo deploy </span><br></pre></td></tr></table></figure>



<p>当然，在生成静态文件之后你可以使用 <code>hexo s</code> 命令生成一个本地的 hexo 网站来做相关检验和测试，如果没什么问题就使用 <code>hexo d</code> 命令将其部署到 git 上</p>
<p>最后我们就可以访问博客啦！</p>
</div>
          <nav class="post-nav">
    
    <a class="post-nav-item post-nav-prev" href="/2024/04/28/%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD%E5%8F%8A%E5%AE%9A%E5%88%B6%E5%8C%96%E6%A0%B7%E5%BC%8F/">
      <div class="nav-arrow">&lt;&nbsp;NEWER</div>
      <span class="post-title">博客添加评论功能及定制化样式</span>
    </a>
    
    
    <a class="post-nav-item post-nav-next" href="/2024/04/26/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%B4%AD%E8%BD%A6%E6%8C%87%E5%8D%97/">
      <div class="nav-arrow">OLDER&nbsp;&gt;</div>
      <span class="post-title">程序员购车指南</span>
    </a>
    
  </nav>
          <div class="dis">
    
     
    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: '' == 'true',
            verify: '' == 'true',
            appId: "BtErEBHVfpv2sxm8KWPywL1j-gzGzoHsz",
            appKey: "pmLLxXJE5OT872Kb8HMizMtj",
            avatar: "/img/redcat.jpg",
            placeholder: "说点什么吧！",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
		console.log("Valine done!")
		 
    </script>
    <!-- Valine Comments end -->

  </div>
   </main>
</div>

  <footer class="footer">
    <small class="footer_copyright">
      <div id="bottom-inner">
        Site by Ammon using
        <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a>.
        <br>
        <p> Theme is <a target="_blank" rel="noopener" href="https://github.com/dewjohn/hexo-theme-klise">Klise</a></p>
      </div>
    </small>
  </footer>
  
  

    
      <script src="/js/main.js"></script>
    
  
  <script>
    window.FPConfig = {
      delay: 0,
      ignoreKeywords: [],
      maxRPS: 3,
      hoverDelay: 50,
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"></script>
</body>
</html>
